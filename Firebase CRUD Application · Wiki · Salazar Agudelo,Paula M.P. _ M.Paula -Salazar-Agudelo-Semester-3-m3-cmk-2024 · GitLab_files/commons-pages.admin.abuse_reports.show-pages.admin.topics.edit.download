(this.webpackJsonp=this.webpackJsonp||[]).push([[4],{"0Yau":function(e,i,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mergeRequestReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequestInteraction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewState"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adminMergeRequest"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:599}};n.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery mergeRequestReviewers($fullPath: ID!, $iid: String!) {\n  workspace: project(fullPath: $fullPath) {\n    id\n    issuable: mergeRequest(iid: $iid) {\n      id\n      reviewers {\n        nodes {\n          ...User\n          ...UserAvailability\n          mergeRequestInteraction {\n            canMerge\n            canUpdate\n            approved\n            reviewState\n          }\n        }\n      }\n      userPermissions {\n        adminMergeRequest\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!a[i]&&(a[i]=!0,!0)}))}n.definitions=n.definitions.concat(r(t("aBoS").definitions)),n.definitions=n.definitions.concat(r(t("6u3F").definitions));var s={};function l(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}n.definitions.forEach((function(e){if(e.name){var i=new Set;!function e(i,t){if("FragmentSpread"===i.kind)t.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&t.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach((function(i){e(i,t)})),i.variableDefinitions&&i.variableDefinitions.forEach((function(i){e(i,t)})),i.definitions&&i.definitions.forEach((function(i){e(i,t)}))}(e,i),s[e.name.value]=i}})),e.exports=n,e.exports.mergeRequestReviewers=function(e,i){var t={kind:e.kind,definitions:[l(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var n=s[i]||new Set,a=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(i){var n=l(e,i);n&&t.definitions.push(n)})),t}(n,"mergeRequestReviewers")},"6u3F":function(e,i){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UserAvailability"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:70}};t.loc.source={body:"fragment UserAvailability on User {\n  status {\n    availability\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}t.definitions.forEach((function(e){if(e.name){var i=new Set;!function e(i,t){if("FragmentSpread"===i.kind)t.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&t.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach((function(i){e(i,t)})),i.variableDefinitions&&i.variableDefinitions.forEach((function(i){e(i,t)})),i.definitions&&i.definitions.forEach((function(i){e(i,t)}))}(e,i),n[e.name.value]=i}})),e.exports=t,e.exports.UserAvailability=function(e,i){var t={kind:e.kind,definitions:[a(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=n[i]||new Set,s=new Set,l=new Set;for(r.forEach((function(e){l.add(e)}));l.size>0;){var o=l;l=new Set,o.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){l.add(e)})))}))}return s.forEach((function(i){var n=a(e,i);n&&t.definitions.push(n)})),t}(t,"UserAvailability")},"8M/8":function(e,i,t){"use strict";function n(){document.dispatchEvent(new CustomEvent("userCounts:fetch"))}t.d(i,"a",(function(){return n}))},"C41/":function(e,i,t){"use strict";t.d(i,"b",(function(){return ne}));t("3UXl"),t("iyoE");var n=t("ewH8"),a=t("jlnU"),r=t("AxUD"),s=t("/lV4"),l=t("FxFN"),o=t("8M/8"),d=t("Or2z"),u=t("0Yau"),c=t.n(u),v=t("u/6O"),m=t.n(v),g=t("jz1Q"),p=t("onSc"),f=t("FkSe"),h=t("4lAS"),w=t("z1xw"),k=t("sHIo"),b=t("N50s"),S=t("GuZl"),R=t("1OWu"),y=t("dsLq"),N=t("N7sJ"),q=(t("RFHG"),t("z6RN"),t("xuo1"),t("ZzK0"),t("BzOf"),t("B++/"),t("47t/"),t("s1D3")),_=t("MV2A"),D={components:{GlIcon:q.a},props:{user:{type:Object,required:!0},imgSize:{type:Number,required:!0}},computed:{reviewerAlt(){return Object(s.h)(Object(s.a)("%{userName}'s avatar"),{userName:this.user.name})},avatarUrl(){return this.user.avatarUrl||this.user.avatar_url||gon.default_avatar_url},hasMergeIcon(){var e;return!(null!==(e=this.user.mergeRequestInteraction)&&void 0!==e&&e.canMerge)}}},E=t("tBpV"),U={components:{ReviewerAvatar:Object(E.a)(D,(function(){var e=this._self._c;return e("span",{staticClass:"position-relative"},[e("img",{staticClass:"avatar avatar-inline m-0",class:"s"+this.imgSize,attrs:{alt:this.reviewerAlt,src:this.avatarUrl,width:this.imgSize}}),this._v(" "),this.hasMergeIcon?e("gl-icon",{staticClass:"merge-icon reviewer-merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):this._e()],1)}),[],!1,null,null,null).exports,GlLink:_.a},directives:{GlTooltip:w.a},props:{user:{type:Object,required:!0},rootPath:{type:String,required:!0},issuableType:{type:String,default:r.o,required:!1}},computed:{cannotMerge(){var e;return this.issuableType===r.p&&!(null!==(e=this.user.mergeRequestInteraction)&&void 0!==e&&e.canMerge)},reviewerId(){return Object(l.d)(this.user.id)},reviewerUrl(){return this.user.webUrl}}},j=Object(E.a)(U,(function(){var e=this,i=e._self._c;return i("gl-link",{staticClass:"gl-inline-block js-user-link !gl-text-inherit gl-hover-text-blue-800!",attrs:{href:e.reviewerUrl,"data-user-id":e.reviewerId,"data-username":e.user.username,"data-cannot-merge":e.cannotMerge,"data-placement":"left"}},[i("span",{staticClass:"gl-flex"},[i("reviewer-avatar",{attrs:{user:e.user,"img-size":24,"issuable-type":e.issuableType}}),e._v(" "),e._t("default",null,{user:e.user})],2)])}),[],!1,null,null,null).exports;const A={APPROVED:{name:"check-circle",class:"gl-text-green-500",title:Object(s.g)("MergeRequest|Reviewer approved changes")},REQUESTED_CHANGES:{name:"error",class:"gl-text-red-500",title:Object(s.g)("MergeRequest|Reviewer requested changes")},REVIEWED:{name:"comment-lines",class:"gl-text-blue-500",title:Object(s.g)("MergeRequest|Reviewer commented")},UNREVIEWED:{name:"dash-circle",title:Object(s.g)("MergeRequest|Awaiting review")},REVIEW_STARTED:{name:"comment-dots",class:"gl-text-gray-500",title:Object(s.g)("MergeRequest|Reviewer started review")}};var P={i18n:{reRequestReview:Object(s.a)("Re-request review")},components:{GlButton:h.a,GlIcon:q.a,ReviewerAvatarLink:j},directives:{GlTooltip:w.a},props:{users:{type:Array,required:!0},rootPath:{type:String,required:!0},issuableType:{type:String,required:!1,default:r.o}},data:()=>({showLess:!0,loadingStates:{}}),watch:{users:{handler(e,i){var t=this;this.loadingStates=e.reduce((function(e,i){return{...e,[i.id]:e[i.id]||null}}),this.loadingStates),i&&e.forEach((function(e){const n=i.find((function({id:i}){return i===e.id}));n&&e.mergeRequestInteraction.approved&&!n.mergeRequestInteraction.approved&&t.showApprovalAnimation(e.id)}))},immediate:!0}},methods:{showApprovalAnimation(e){var i=this;this.loadingStates[e]="approved",setTimeout((function(){i.loadingStates[e]=null}),1500)},reviewedButNotApprovedTooltip:e=>Object(s.h)(Object(s.g)("MergeRequest|Reviewed by @%{username} but not yet approved"),e),toggleShowLess(){this.showLess=!this.showLess},reRequestReview(e){this.loadingStates[e]="loading",this.$emit("request-review",{userId:e,callback:this.requestReviewComplete})},requestReviewComplete(e,i){var t=this;i?(this.loadingStates[e]="success",setTimeout((function(){t.loadingStates[e]=null}),1500)):this.loadingStates[e]=null},reviewStateIcon(e){return e.mergeRequestInteraction.approved?{...A.APPROVED,class:[A.APPROVED.class,"approved"===this.loadingStates[e.id]&&"merge-request-approved-icon"]}:A[e.mergeRequestInteraction.reviewState]||A.UNREVIEWED},showRequestReviewButton:e=>!!e.mergeRequestInteraction.approved||!["UNREVIEWED","UNAPPROVED"].includes(e.mergeRequestInteraction.reviewState)},LOADING_STATE:"loading",SUCCESS_STATE:"success"},O=Object(E.a)(P,(function(){var e=this,i=e._self._c;return i("div",e._l(e.users,(function(t,n){return i("div",{key:t.id,staticClass:"gl-display-grid gl-align-items-center reviewer-grid gl-mr-2",class:{"gl-mb-3":n!==e.users.length-1},attrs:{"data-testid":"reviewer"}},[i("reviewer-avatar-link",{staticClass:"gl-break-anywhere gl-mr-2",attrs:{user:t,"root-path":e.rootPath,"issuable-type":e.issuableType,"data-css-area":"user"}},[i("div",{staticClass:"gl-ml-3 gl-leading-normal gl-display-grid gl-align-items-center"},[e._v("\n        "+e._s(t.name)+"\n      ")])]),e._v(" "),t.mergeRequestInteraction.canUpdate&&e.showRequestReviewButton(t)?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"gl-float-right gl-text-gray-500! gl-mr-2",attrs:{title:e.$options.i18n.reRequestReview,"aria-label":e.$options.i18n.reRequestReview,loading:e.loadingStates[t.id]===e.$options.LOADING_STATE,size:"small",icon:"redo",variant:"link","data-testid":"re-request-button"},on:{click:function(i){return e.reRequestReview(t.id)}}}):e._e(),e._v(" "),i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.top.viewport",modifiers:{top:!0,viewport:!0}}],staticClass:"gl-float-right gl-my-2 gl-ml-auto gl-flex-shrink-0",class:e.reviewStateIcon(t).class,attrs:{title:e.reviewStateIcon(t).title,"data-testid":"reviewer-state-icon-parent"}},[i("gl-icon",{attrs:{size:e.reviewStateIcon(t).size||16,name:e.reviewStateIcon(t).name,"aria-label":e.reviewStateIcon(t).title,"data-testid":"reviewer-state-icon"}})],1)],1)})),0)}),[],!1,null,null,null).exports,I=t("Tmea"),T=t.n(I),F=(t("v2fZ"),t("UezY"),t("hG7+"),t("crTv")),x=t("tbP8"),V=t("4wgn"),$=t("lwG1"),C=t.n($),M=t("tj6P"),G=t.n(M),L={inject:["projectPath","issuableIid"],props:{selectedReviewers:{type:Array,required:!0}},data:()=>({loading:!1}),methods:{async updateReviewers(){this.loading=!0,await this.$apollo.mutate({mutation:G.a,variables:{reviewerUsernames:this.selectedReviewers,projectPath:this.projectPath,iid:this.issuableIid}}),this.loading=!1}},render(){return this.$scopedSlots.default({loading:this.loading,updateReviewers:this.updateReviewers})}},z=Object(E.a)(L,void 0,void 0,!1,null,null,null).exports,B=t("pvU3"),W=t.n(B),H={apollo:{userPermissions:{query:W.a,variables(){return{fullPath:this.projectPath,iid:this.issuableIid}},update:function(e){var i;return(null===(i=e.project)||void 0===i||null===(i=i.mergeRequest)||void 0===i?void 0:i.userPermissions)||{}}}},components:{GlCollapsibleListbox:F.a,GlAvatar:x.a,GlIcon:q.a,UpdateReviewers:z},inject:["projectPath","issuableId","issuableIid"],props:{users:{type:Array,required:!1,default:function(){return[]}},selectedReviewers:{type:Array,required:!1,default:function(){return[]}}},data(){return{search:"",searching:!1,fetchedUsers:[],currentSelectedReviewers:this.selectedReviewers.map((function(e){return e.username}))}},computed:{mappedUsers(){var e=this;const i=[];let t;return this.selectedReviewers.length&&!this.search&&i.push({text:Object(s.a)("Reviewers"),options:this.selectedReviewers.map((function(i){return e.mapUser(i)}))}),t=this.fetchedUsers.length?this.fetchedUsers:this.users,i.push({textSrOnly:!0,text:Object(s.a)("Users"),options:t.filter((function(i){return!!e.search||!e.selectedReviewers.find((function({id:e}){return i.id===e}))})).map((function(i){return e.mapUser(i)}))}),i}},watch:{selectedReviewers(e){this.currentSelectedReviewers=e.map((function(e){return e.username}))}},created(){var e=this;this.debouncedFetchAutocompleteUsers=T()((function(i){return e.fetchAutocompleteUsers(i)}),S.g)},methods:{mapUser:e=>({value:e.username,text:e.name,secondaryText:"@"+e.username,...e}),shownDropdown(){this.users.length||this.fetchedUsers.length||this.fetchAutocompleteUsers()},async fetchAutocompleteUsers(e=""){this.search=e,this.searching=!0;const{data:{workspace:{users:i=[]}}}=await this.$apollo.query({query:C.a,variables:{search:e,fullPath:this.projectPath,mergeRequestId:Object(l.b)(V.s,this.issuableId)}});this.fetchedUsers=i,this.searching=!1}}},Q=Object(E.a)(H,(function(){var e=this,i=e._self._c;return e.userPermissions&&e.userPermissions.adminMergeRequest?i("update-reviewers",{attrs:{"selected-reviewers":e.currentSelectedReviewers},scopedSlots:e._u([{key:"default",fn:function({loading:t,updateReviewers:n}){return[i("gl-collapsible-listbox",{attrs:{icon:"plus","toggle-text":e.__("Select reviewer"),"header-text":e.__("Select reviewer"),"text-sr-only":"",category:"tertiary","no-caret":"",size:"small",searchable:"",multiple:"",placement:"bottom-end","is-check-centered":"",items:e.mappedUsers,loading:t,searching:e.searching},on:{search:e.debouncedFetchAutocompleteUsers,shown:e.shownDropdown,hidden:n},scopedSlots:e._u([{key:"list-item",fn:function({item:t}){return[i("span",{staticClass:"gl-display-flex gl-align-items-center"},[i("div",{staticClass:"gl-relative gl-mr-3"},[i("gl-avatar",{attrs:{size:32,src:t.avatarUrl,"entity-name":t.value}}),e._v(" "),t.mergeRequestInteraction&&!t.mergeRequestInteraction.canMerge?i("gl-icon",{staticClass:"reviewer-merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):e._e()],1),e._v(" "),i("span",{staticClass:"gl-display-flex gl-flex-direction-column"},[i("span",{staticClass:"gl-font-bold gl-white-space-nowrap"},[e._v(e._s(t.text))]),e._v(" "),i("span",{staticClass:"gl-text-gray-400"},[e._v(" "+e._s(t.secondaryText))])])])]}}],null,!0),model:{value:e.currentSelectedReviewers,callback:function(i){e.currentSelectedReviewers=i},expression:"currentSelectedReviewers"}})]}}],null,!1,607508519)}):e._e()}),[],!1,null,null,null).exports,Z={apollo:{userPermissions:{query:W.a,variables(){return{fullPath:this.projectPath,iid:this.issuableIid}},update:function(e){var i;return(null===(i=e.project)||void 0===i||null===(i=i.mergeRequest)||void 0===i?void 0:i.userPermissions)||{}}}},components:{GlEmptyState:y.a,GlButton:h.a,UncollapsedReviewerList:O,UpdateReviewers:z,ReviewerDropdown:Q},inject:["projectPath","issuableIid"],props:{reviewers:{type:Array,required:!0},loadingReviewers:{type:Boolean,required:!0}},data:()=>({userPermissions:{}}),computed:{currentUser:()=>[gon.current_username],relativeUrlRoot(){var e;return null!==(e=gon.relative_url_root)&&void 0!==e?e:""},reviewersTitle(){return 0===this.reviewers.length?Object(s.h)(Object(s.a)("%{count} Reviewers"),{count:this.reviewers.length}):Object(s.h)(Object(s.f)("%{count} Reviewer","%{count} Reviewers",this.reviewers.length),{count:this.reviewers.length})}},noReviewersAssignedSvg:N.a},Y=Object(E.a)(Z,(function(){var e=this,i=e._self._c;return i("div",[i("div",{staticClass:"gl-leading-20 gl-font-bold gl-flex gl-w-full gl-align-items-center gl-mb-3"},[e.loadingReviewers?[i("div",{staticClass:"gl-animate-skeleton-loader gl-h-4 gl-rounded-base gl-w-20"}),e._v(" "),i("div",{staticClass:"gl-animate-skeleton-loader gl-h-4 gl-rounded-base gl-w-4 gl-ml-auto"})]:[e._v("\n      "+e._s(e.reviewersTitle)+"\n      "),i("reviewer-dropdown",{staticClass:"gl-ml-auto",attrs:{"selected-reviewers":e.reviewers}})]],2),e._v(" "),e.loadingReviewers?i("div",[i("div",{staticClass:"gl-animate-skeleton-loader gl-h-4 gl-rounded-base gl-mb-3 gl-max-w-20!"}),e._v(" "),i("div",{staticClass:"gl-animate-skeleton-loader gl-h-4 gl-rounded-base gl-mb-3 gl-max-w-20!"}),e._v(" "),i("div",{staticClass:"gl-animate-skeleton-loader gl-h-4 gl-rounded-base gl-max-w-20!"})]):e.reviewers.length?i("uncollapsed-reviewer-list",{attrs:{"root-path":e.relativeUrlRoot,users:e.reviewers,"issuable-type":"merge_request"},on:{"request-review":function(i){return e.$emit("request-review",i)}}}):i("gl-empty-state",{attrs:{"svg-path":e.$options.noReviewersAssignedSvg,"svg-height":70},scopedSlots:e._u([{key:"description",fn:function(){return[i("p",{staticClass:"gl-font-normal gl-mb-3"},[e._v(e._s(e.__("No reviewers assigned")))]),e._v(" "),e.userPermissions.adminMergeRequest?i("update-reviewers",{attrs:{"selected-reviewers":e.currentUser},scopedSlots:e._u([{key:"default",fn:function({loading:t,updateReviewers:n}){return[i("gl-button",{attrs:{category:"tertiary",size:"small",loading:t,"data-testid":"assign-yourself-button"},on:{click:n}},[e._v("\n            "+e._s(e.__("Assign yourself"))+"\n          ")])]}}],null,!1,1064963660)}):e._e()]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,J={apollo:{reviewers:{query:c.a,variables(){return{fullPath:this.projectPath,iid:this.issuableIid}},update:function(e){var i;return(null===(i=e.workspace)||void 0===i||null===(i=i.issuable)||void 0===i||null===(i=i.reviewers)||void 0===i?void 0:i.nodes)||[]},skip(){return!this.open}}},components:{GlDrawer:b.a,ReviewersContainer:Y,ApprovalSummary:function(){return t.e(3).then(t.bind(null,"4b03"))},ApprovalRulesWrapper:function(){return t.e(3).then(t.bind(null,"4b03"))}},inject:["projectPath","issuableIid"],props:{open:{type:Boolean,required:!0}},data:()=>({reviewers:[]}),computed:{getDrawerHeaderHeight(){return this.open?Object(R.d)():"0"},loadingReviewers(){return this.$apollo.queries.reviewers.loading}},DRAWER_Z_INDEX:S.h},X=Object(E.a)(J,(function(){var e=this,i=e._self._c;return i("gl-drawer",{attrs:{"header-height":e.getDrawerHeaderHeight,"z-index":e.$options.DRAWER_Z_INDEX,open:e.open},on:{close:function(i){return e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[i("h4",{staticClass:"gl-my-0"},[e._v(e._s(e.__("Assign reviewers")))])]},proxy:!0},{key:"header",fn:function(){return[i("approval-summary")]},proxy:!0}])},[e._v(" "),e._v(" "),i("reviewers-container",{attrs:{reviewers:e.reviewers,"loading-reviewers":e.loadingReviewers},on:{"request-review":function(i){return e.$emit("request-review",i)}}}),e._v(" "),i("approval-rules-wrapper",{attrs:{reviewers:e.reviewers}})],1)}),[],!1,null,null,null).exports,K={name:"ReviewerTitle",components:{MountingPortal:p.MountingPortal,GlLoadingIcon:f.a,GlButton:h.a,ReviewerDrawer:X},directives:{Tooltip:w.a},mixins:[Object(k.a)()],props:{loading:{type:Boolean,required:!1,default:!1},numberOfReviewers:{type:Number,required:!0},editable:{type:Boolean,required:!0}},data:()=>({drawerOpen:!1}),computed:{reviewerTitle(){const e=this.numberOfReviewers;return Object(s.f)("Reviewer","%d Reviewers",e)}},methods:{toggleDrawerOpen(e=!this.drawerOpen){this.glFeatures.reviewerAssignDrawer&&(this.drawerOpen=e)}}},ee=Object(E.a)(K,(function(){var e=this,i=e._self._c;return i("div",{staticClass:"hide-collapsed gl-display-flex gl-align-items-center gl-leading-20 gl-text-gray-900 gl-font-bold gl-gap-2"},[e._v("\n  "+e._s(e.reviewerTitle)+"\n  "),e.loading?i("gl-loading-icon",{staticClass:"align-bottom",attrs:{size:"sm",inline:""}}):e._e(),e._v(" "),e.editable?[i("gl-button",{directives:[{name:"tooltip",rawName:"v-tooltip.hover",modifiers:{hover:!0}}],staticClass:"gl-ml-auto hide-collapsed gl-float-right",class:{"js-sidebar-dropdown-toggle edit-link":!e.glFeatures.reviewerAssignDrawer},attrs:{title:e.glFeatures.reviewerAssignDrawer?e.__("Add or edit reviewers"):e.__("Change reviewer"),"data-track-action":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"reviewer","data-testid":e.glFeatures.reviewerAssignDrawer?"drawer-toggle":"reviewers-edit-button",category:"tertiary",size:"small"},on:{click:function(i){return e.toggleDrawerOpen(!e.drawerOpen)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")])]:e._e(),e._v(" "),e.glFeatures.reviewerAssignDrawer?i("mounting-portal",{attrs:{"mount-to":"#js-reviewer-drawer-portal"}},[i("reviewer-drawer",{attrs:{open:e.drawerOpen},on:{"request-review":function(i){return e.$emit("request-review",i)},close:function(i){return e.toggleDrawerOpen(!1)}}})],1):e._e()],2)}),[],!1,null,null,null).exports,ie={name:"Reviewers",components:{GlButton:h.a,UncollapsedReviewerList:O},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,required:!1,default:r.o}},computed:{hasNoUsers(){return!this.users.length},sortedReviewers(){return[...this.users.filter((function(e){var i;return null===(i=e.mergeRequestInteraction)||void 0===i?void 0:i.canMerge})),...this.users.filter((function(e){var i;return!(null!==(i=e.mergeRequestInteraction)&&void 0!==i&&i.canMerge)}))]}},methods:{assignSelf(){this.$emit("assign-self")},requestReview(e){this.$emit("request-review",e)}}},te=Object(E.a)(ie,(function(){var e=this,i=e._self._c;return i("div",[i("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?i("span",{staticClass:"no-value gl-display-flex gl-font-base gl-leading-normal",attrs:{"data-testid":"no-value"}},[e._v("\n      "+e._s(e.__("None"))+"\n      "),e.editable?[e._v("\n        -\n        "),i("gl-button",{staticClass:"gl-ml-2",attrs:{category:"tertiary",variant:"link","data-testid":"assign-yourself"},on:{click:e.assignSelf}},[i("span",{staticClass:"gl-text-gray-500 gl-hover-text-blue-800"},[e._v(e._s(e.__("assign yourself")))])])]:e._e()],2):i("uncollapsed-reviewer-list",{attrs:{users:e.sortedReviewers,"root-path":e.rootPath,"issuable-type":e.issuableType},on:{"request-review":e.requestReview}})],1)])}),[],!1,null,null,null).exports;const ne=n.default.observable({issuable:{},loading:!1,initialLoading:!0});var ae={name:"SidebarReviewers",components:{ReviewerTitle:ee,Reviewers:te},props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},issuableType:{type:String,required:!1,default:r.o},issuableIid:{type:String,required:!0},projectPath:{type:String,required:!0}},apollo:{issuable:{query:c.a,variables(){return{iid:this.issuableIid,fullPath:this.projectPath}},update(e){var i;return null===(i=e.workspace)||void 0===i?void 0:i.issuable},result(){this.initialLoading=!1},error(){Object(a.createAlert)({message:Object(s.a)("An error occurred while fetching reviewers.")})},subscribeToMore:{document:()=>m.a,variables(){var e;return{issuableId:null===(e=this.issuable)||void 0===e?void 0:e.id}},skip(){var e;return!(null!==(e=this.issuable)&&void 0!==e&&e.id)},updateQuery(e,{subscriptionData:{data:{mergeRequestReviewersUpdated:i}}}){i&&this.store.setReviewersFromRealtime(i.reviewers.nodes.map((function(e){return{...e,id:Object(l.d)(e.id)}})))}}}},data:()=>ne,computed:{relativeUrlRoot(){var e;return null!==(e=gon.relative_url_root)&&void 0!==e?e:""},reviewers(){var e;return(null===(e=this.issuable.reviewers)||void 0===e?void 0:e.nodes)||[]},graphqlFetching(){return this.$apollo.queries.issuable.loading},isLoading(){return this.loading||this.$apollo.queries.issuable.loading},canUpdate(){var e;return(null===(e=this.issuable.userPermissions)||void 0===e?void 0:e.adminMergeRequest)||!1}},created(){this.store=new g.a,this.removeReviewer=this.store.removeReviewer.bind(this.store),this.addReviewer=this.store.addReviewer.bind(this.store),this.removeAllReviewers=this.store.removeAllReviewers.bind(this.store),d.a.$on("sidebar.removeReviewer",this.removeReviewer),d.a.$on("sidebar.addReviewer",this.addReviewer),d.a.$on("sidebar.removeAllReviewers",this.removeAllReviewers),d.a.$on("sidebar.saveReviewers",this.saveReviewers)},beforeDestroy(){d.a.$off("sidebar.removeReviewer",this.removeReviewer),d.a.$off("sidebar.addReviewer",this.addReviewer),d.a.$off("sidebar.removeAllReviewers",this.removeAllReviewers),d.a.$off("sidebar.saveReviewers",this.saveReviewers)},methods:{reviewBySelf(){this.$el.parentElement.dispatchEvent(new Event("assignYourself")),this.mediator.addSelfReview(),this.saveReviewers()},saveReviewers(){var e=this;this.loading=!0,this.mediator.saveReviewers(this.field).then((function(){e.loading=!1,Object(o.a)(),e.$apollo.queries.issuable.refetch()})).catch((function(){return e.loading=!1,Object(a.createAlert)({message:Object(s.a)("Error occurred when saving reviewers")})}))},requestReview(e){this.mediator.requestReview(e)}}},re=Object(E.a)(ae,(function(){var e=this,i=e._self._c;return i("div",[i("reviewer-title",{attrs:{"number-of-reviewers":e.reviewers.length,loading:e.isLoading,editable:e.canUpdate},on:{"request-review":e.requestReview}}),e._v(" "),e.initialLoading?e._e():i("reviewers",{staticClass:"gl-pt-2",attrs:{"root-path":e.relativeUrlRoot,users:e.reviewers,editable:e.canUpdate,"issuable-type":e.issuableType},on:{"request-review":e.requestReview,"assign-self":e.reviewBySelf}})],1)}),[],!1,null,null,null);i.a=re.exports},Or2z:function(e,i,t){"use strict";var n=t("7xOh");const a=Object(n.a)();window.emitSidebarEvent=function(...e){return a.$emit(...e)},i.a=a},jz1Q:function(e,i,t){"use strict";t.d(i,"a",(function(){return a}));t("v2fZ"),t("B++/"),t("z6RN"),t("47t/"),t("UezY"),t("hG7+");var n=t("NmEs");class a{constructor(e){return a.singleton||this.initSingleton(e),a.singleton}initSingleton(e){const{currentUser:i,rootPath:t,editable:r,timeTrackingLimitToHours:s}=e;this.currentUser=i,this.rootPath=t,this.editable=Object(n.G)(r),this.timeEstimate=0,this.totalTimeSpent=0,this.humanTimeEstimate="",this.humanTimeSpent="",this.timeTrackingLimitToHours=s,this.assignees=[],this.reviewers=[],this.isFetching={assignees:!0,reviewers:!0},this.isLoading={},this.autocompleteProjects=[],this.moveToProjectId=0,this.isLockDialogOpen=!1,this.participants=[],this.projectEmailsEnabled=!0,this.subscribeDisabledDescription="",this.subscribed=null,this.changing=!1,this.issuableType=e.issuableType,a.singleton=this}setAssigneeData({assignees:e}){this.isFetching.assignees=!1,e&&(this.assignees=e)}setReviewerData({reviewers:e}){this.isFetching.reviewers=!1,e&&(this.reviewers=e)}resetChanging(){this.changing=!1}setTimeTrackingData(e){this.timeEstimate=e.time_estimate,this.totalTimeSpent=e.total_time_spent,this.humanTimeEstimate=e.human_time_estimate,this.humanTotalTimeSpent=e.human_total_time_spent}setFetchingState(e,i){this.isFetching[e]=i}setLoadingState(e,i){this.isLoading[e]=i}addAssignee(e){this.findAssignee(e)||(this.changing=!0,this.assignees.push(e))}addReviewer(e){this.findReviewer(e)||this.reviewers.push(e)}updateAssignee(e,i){const t=this.findAssignee({id:e});t&&(t[i]=!t[i])}updateReviewer(e,i){const t=this.findReviewer({id:e});t&&(t[i]=!t[i])}overwrite(e,i){this[e]=i}findAssignee(e){return this.assignees.find((function({id:i}){return i===e.id}))}findReviewer(e){return this.reviewers.find((function({id:i}){return i===e.id}))}removeAssignee(e){e&&(this.changing=!0,this.assignees=this.assignees.filter((function({id:i}){return i!==e.id})))}removeReviewer(e){e&&(this.reviewers=this.reviewers.filter((function({id:i}){return i!==e.id})))}removeAllAssignees(){this.changing=!0,this.assignees=[]}removeAllReviewers(){this.reviewers=[]}setAssigneesFromRealtime(e){this.assignees=e}setReviewersFromRealtime(e){this.reviewers=e}setAutocompleteProjects(e){this.autocompleteProjects=e}setSubscribedState(e){this.subscribed=e}setMoveToProjectId(e){this.moveToProjectId=e}}},lwG1:function(e,i,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"projectAutocompleteUsersSearchWithMRPermissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mergeRequestId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergeRequestID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"users"},name:{kind:"Name",value:"autocompleteUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequestInteraction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"mergeRequestId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canMerge"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:477}};n.loc.source={body:'#import "../fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery projectAutocompleteUsersSearchWithMRPermissions(\n  $search: String!\n  $fullPath: ID!\n  $mergeRequestId: MergeRequestID!\n) {\n  workspace: project(fullPath: $fullPath) {\n    id\n    users: autocompleteUsers(search: $search) {\n      ...User\n      ...UserAvailability\n      mergeRequestInteraction(id: $mergeRequestId) {\n        canMerge\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!a[i]&&(a[i]=!0,!0)}))}n.definitions=n.definitions.concat(r(t("aBoS").definitions)),n.definitions=n.definitions.concat(r(t("6u3F").definitions));var s={};function l(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}n.definitions.forEach((function(e){if(e.name){var i=new Set;!function e(i,t){if("FragmentSpread"===i.kind)t.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&t.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach((function(i){e(i,t)})),i.variableDefinitions&&i.variableDefinitions.forEach((function(i){e(i,t)})),i.definitions&&i.definitions.forEach((function(i){e(i,t)}))}(e,i),s[e.name.value]=i}})),e.exports=n,e.exports.projectAutocompleteUsersSearchWithMRPermissions=function(e,i){var t={kind:e.kind,definitions:[l(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var n=s[i]||new Set,a=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(i){var n=l(e,i);n&&t.definitions.push(n)})),t}(n,"projectAutocompleteUsersSearchWithMRPermissions")},pvU3:function(e,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"addReviewerPermissions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adminMergeRequest"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:211}};t.loc.source={body:"query addReviewerPermissions($fullPath: ID!, $iid: String!) {\n  project(fullPath: $fullPath) {\n    id\n    mergeRequest(iid: $iid) {\n      id\n      userPermissions {\n        adminMergeRequest\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}t.definitions.forEach((function(e){if(e.name){var i=new Set;!function e(i,t){if("FragmentSpread"===i.kind)t.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&t.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach((function(i){e(i,t)})),i.variableDefinitions&&i.variableDefinitions.forEach((function(i){e(i,t)})),i.definitions&&i.definitions.forEach((function(i){e(i,t)}))}(e,i),n[e.name.value]=i}})),e.exports=t,e.exports.addReviewerPermissions=function(e,i){var t={kind:e.kind,definitions:[a(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=n[i]||new Set,s=new Set,l=new Set;for(r.forEach((function(e){l.add(e)}));l.size>0;){var o=l;l=new Set,o.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){l.add(e)})))}))}return s.forEach((function(i){var n=a(e,i);n&&t.definitions.push(n)})),t}(t,"addReviewerPermissions")},tj6P:function(e,i){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"setReviewers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewerUsernames"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestSetReviewers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"reviewerUsernames"},value:{kind:"Variable",name:{kind:"Name",value:"reviewerUsernames"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:232}};t.loc.source={body:"mutation setReviewers($projectPath: ID!, $iid: String!, $reviewerUsernames: [String!]!) {\n  mergeRequestSetReviewers(\n    input: { projectPath: $projectPath, iid: $iid, reviewerUsernames: $reviewerUsernames }\n  ) {\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}t.definitions.forEach((function(e){if(e.name){var i=new Set;!function e(i,t){if("FragmentSpread"===i.kind)t.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&t.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach((function(i){e(i,t)})),i.variableDefinitions&&i.variableDefinitions.forEach((function(i){e(i,t)})),i.definitions&&i.definitions.forEach((function(i){e(i,t)}))}(e,i),n[e.name.value]=i}})),e.exports=t,e.exports.setReviewers=function(e,i){var t={kind:e.kind,definitions:[a(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var r=n[i]||new Set,s=new Set,l=new Set;for(r.forEach((function(e){l.add(e)}));l.size>0;){var o=l;l=new Set,o.forEach((function(e){s.has(e)||(s.add(e),(n[e]||new Set).forEach((function(e){l.add(e)})))}))}return s.forEach((function(i){var n=a(e,i);n&&t.definitions.push(n)})),t}(t,"setReviewers")},"u/6O":function(e,i,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"mergeRequestReviewersUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestReviewersUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequestInteraction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canUpdate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"approved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewState"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:543}};n.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nsubscription mergeRequestReviewersUpdated($issuableId: IssuableID!) {\n  mergeRequestReviewersUpdated(issuableId: $issuableId) {\n    ... on MergeRequest {\n      id\n      reviewers {\n        nodes {\n          ...User\n          ...UserAvailability\n          mergeRequestInteraction {\n            canMerge\n            canUpdate\n            approved\n            reviewState\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var i=e.name.value;return!a[i]&&(a[i]=!0,!0)}))}n.definitions=n.definitions.concat(r(t("aBoS").definitions)),n.definitions=n.definitions.concat(r(t("6u3F").definitions));var s={};function l(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}n.definitions.forEach((function(e){if(e.name){var i=new Set;!function e(i,t){if("FragmentSpread"===i.kind)t.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&t.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach((function(i){e(i,t)})),i.variableDefinitions&&i.variableDefinitions.forEach((function(i){e(i,t)})),i.definitions&&i.definitions.forEach((function(i){e(i,t)}))}(e,i),s[e.name.value]=i}})),e.exports=n,e.exports.mergeRequestReviewersUpdated=function(e,i){var t={kind:e.kind,definitions:[l(e,i)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var n=s[i]||new Set,a=new Set,r=new Set;for(n.forEach((function(e){r.add(e)}));r.size>0;){var o=r;r=new Set,o.forEach((function(e){a.has(e)||(a.add(e),(s[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(i){var n=l(e,i);n&&t.definitions.push(n)})),t}(n,"mergeRequestReviewersUpdated")}}]);
//# sourceMappingURL=commons-pages.admin.abuse_reports.show-pages.admin.topics.edit-pages.admin.topics.new-pages.groups.m-7214950e.def14e50.chunk.js.map